<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Primenumber</title>
 </head>
 <body>
  
 </body>
 <script>
/*	var number = 100000000000;
	function primeNumber (num) {
		for (var i = 2; i <= Math.sqrt(num); i++ )
		{
			if (num % i == 0)
			{
				return false;
			}
		}
		return true;
	}
	var arr= [1,2];
	var date1 = new Date();
	var index = 3;
	for (var i = 3; i < number; i++)
	{
		  if(primeNumber(i)){  arr[arr.length] = i;	}
		//primeNumber(i) && console.log("第"+ index++ +"个素数："+i);	
	}
	var date2 = new Date();
	console.log(arr.length);
	console.log (date2.getTime()-date1.getTime()+"毫秒");
*/
	 var index = -19;
	 var time = 0;
	 function primeNumber () {
	 
	 var worker1 = new Worker ('prime1.js');
	 var worker2 = new Worker ('prime2.js');
	 var worker3 = new Worker ('prime3.js');
	 var worker4 = new Worker ('prime4.js');
	 var worker5 = new Worker ('prime5.js');
	 var worker6 = new Worker ('prime6.js');
	 var worker7 = new Worker ('prime7.js');
	 var worker8 = new Worker ('prime8.js');
	 var worker9 = new Worker ('prime9.js');
	 var worker10 = new Worker ('prime10.js');
		 worker1.addEventListener('message' , function (e) {
			index += e.data.arr.length;
//			time += e.data.time;
			console.log("一线程结束"+e.data.arr.length);
			console.log("一线程耗时"+e.data.time+"毫秒");
		 })
		 worker2.addEventListener('message' , function (e) {
			index += e.data.arr.length;
//			time += e.data.time;
			console.log("二线程结束"+e.data.arr.length);
			console.log("二线程耗时"+e.data.time+"毫秒");
		 })
		 worker3.addEventListener('message' , function (e) {
			index += e.data.arr.length;
//			time += e.data.time;
			console.log("三线程结束"+e.data.arr.length);
			console.log("三线程耗时"+e.data.time+"毫秒");
		 })
		 worker4.addEventListener('message' , function (e) {
			index += e.data.arr.length;
//			time += e.data.time;
			console.log("四线程结束"+e.data.arr.length);
			console.log("四线程耗时"+e.data.time+"毫秒");
		 })
		 worker5.addEventListener('message' , function (e) {
			index += e.data.arr.length;
//			time += e.data.time;
			console.log("五线程结束"+e.data.arr.length);
			console.log("五线程耗时"+e.data.time+"毫秒");
		 })
		 worker6.addEventListener('message' , function (e) {
			index += e.data.arr.length;
//			time += e.data.time;
			console.log("六线程结束"+e.data.arr.length);
			console.log("六线程耗时"+e.data.time+"毫秒");
		 })
		 worker7.addEventListener('message' , function (e) {
			index += e.data.arr.length;
//			time += e.data.time;
			console.log("七线程结束"+e.data.arr.length);
			console.log("七线程耗时"+e.data.time+"毫秒");
		 })
		 worker8.addEventListener('message' , function (e) {
			index += e.data.arr.length;
//			time += e.data.time;
			console.log("八线程结束"+e.data.arr.length);
			console.log("八线程耗时"+e.data.time+"毫秒");
		 })
		 worker9.addEventListener('message' , function (e) {
			index += e.data.arr.length;
//			time += e.data.time;
			console.log("九线程结束"+e.data.arr.length);
			console.log("九线程耗时"+e.data.time+"毫秒");
		 })
		 worker10.addEventListener('message' , function (e) {
			index += e.data.arr.length;
//			time += e.data.time;
			console.log("十线程结束"+e.data.arr.length);
			console.log("十线程耗时"+e.data.time+"毫秒");
		 })
		 var number1 = {"num1" : 3,"num2" : 10000000};
		 worker1.postMessage(number1);
		 var number2 = {"num1" : 10000001,"num2" : 20000000};
		 worker2.postMessage(number2);
		 var number3 = {"num1" : 20000001,"num2" : 30000000};
		 worker3.postMessage(number3);
		 var number4 = {"num1" : 30000001,"num2" : 40000000};
		 worker4.postMessage(number4);
		 var number5 = {"num1" : 40000001,"num2" : 50000000};
		 worker5.postMessage(number5);
		 var number6 = {"num1" : 50000001,"num2" : 60000000};
		 worker6.postMessage(number6);
		 var number7 = {"num1" : 60000001,"num2" : 70000000};
		 worker7.postMessage(number7);
		 var number8 = {"num1" : 70000001,"num2" : 80000000};
		 worker8.postMessage(number8);
		 var number9 = {"num1" : 80000001,"num2" : 90000000};
		 worker9.postMessage(number9);
		 var number10 = {"num1" : 90000001,"num2" : 100000000};
		 worker10.postMessage(number10);
}
		primeNumber ();

 </script>
</html>
