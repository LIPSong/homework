<!DOCTYPE html>
<html>
<head>
	<title>1225</title>
</head>
<style>
	.div{
		height: 600px;
		width: 600px;
		background-color: rgba(10,11,12,.1);
		float: left;
	}
	.progressBar{
		width: 250px;
		height: 20px;
		background: rgba(111,221,123,.1);
		margin: 10px auto;
		line-height: 20px;
		text-align: center;
		overflow: hidden;
	}
	#percentage{
		width: 0%;
		background: green;
		height: 20px;
		margin-top: -20px;
	}
	.clock{
		width: 100%;
		height: 100px;
	}
	table{
		margin: 0 auto;
	}
	.btn{
		width: 200px;
		margin: 0 auto;
	}
</style>
<body>
	<div class="div">
		<div class = "btn">
			<button id="progress">开始进度</button>
			<button id="clockOff">停止时钟</button>
			<button id="clockOn">开始时钟</button>
		</div>
		<div class="progressBar">
			<div id="text">0%</div>
			<div id="percentage"></div>
		</div>
		<div class="clock">
			<table id="__01" width="265.7" height="132.9" border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td>
			<img class="time" src="images/0.png" width="24" height="30" alt=""></td>
		<td>
			<img class="time" src="images/1.png" width="24" height="30" alt=""></td>
		<td>
			<img class="time" src="images/2.png" width="24" height="30"  alt=""></td>
		<td>
			<img class="time" src="images/3.png" width="24" height="30"  alt=""></td>
		<td>
			<img src="images/line_03.png" width="10" height="10"  alt=""></td>
		<td>
			<img class="time" src="images/4.png" width="24" height="30"  alt=""></td>
		<td>
			<img class="time" src="images/5.png" width="24" height="30"  alt=""></td>
		<td>
			<img src="images/line_03.png" width="10" height="10"  alt=""></td>
		<td>
			<img class="time" src="images/6.png" width="24" height="30"  alt=""></td>
		<td>
			<img class="time" src="images/7.png" width="24" height="30"  alt=""></td>
		
		<td>
			<img class="time" src="images/8.png" width="24" height="30"  alt=""
			style="padding-left: 10px;"></td>
		<td>
			<img class="time" src="images/9.png" width="24" height="30"  alt=""></td>
		<td>
			<img src="images/h.png" width="8" height="10"  alt=""></td>
		<td>
			<img class="time" src="images/0.png" width="24" height="30"  alt=""></td>	
		<td>
			<img class="time" src="images/1.png" width="24" height="30"  alt=""></td>
		<td>
			<img src="images/h.png" width="8" height="10"  alt=""></td>
		<td>
			<img class="time" src="images/2.png" width="24" height="30"  alt=""></td>
		<td>
			<img class="time" src="images/3.png" width="24" height="30"  alt=""></td>
	</tr>
</table>
		</div>
	</div>
</body>
<script>
	(function() {
		var timer;
		var progressBtn = document.querySelector("#progress");
		progressBtn.addEventListener("click", function hello () {
			progress();
			progressBtn.removeEventListener ("click", hello);
		});
		var clockOn = document.querySelector("#clockOn");
		clockOn.addEventListener("click", function() {
			timer = setInterval(function() {
				clock();
			}, 500)
		});
		var clockOff = document.querySelector("#clockOff");
		clockOff.addEventListener("click", function() {
			clearInterval(timer);
		});

		function progress() {
			var width = 1;
			var text = document.getElementById("text");
			var per = document.getElementById("percentage");

			function syncWidth() {
				var cssValue = width + "%";
				text.innerHTML = cssValue;
				per.style.width = cssValue;
			}
			var timer = setInterval(function() {
				syncWidth();
				width++;
				width > 100 && clearInterval(timer);
			}, 50);
		}

		//图片时钟
		function clock() {
			var img = document.querySelectorAll(".time");

			function formatDate(num) {
				return num < 10 ? "0" + num : num + "";
			}

			function changeImg(imgages, time) {
				for (var i = 0; i < images.length; i++) {
					imgages[i].src = time[i] + ".png";
				}
			}
			/*分隔符是""，为什么一定要在串与串之间加""，
			才不会导致遇到进位时split()无分隔字符串？*/
			function changeImg(images) {
				var date = new Date();
				var currentDate = formatDate(date.getFullYear()) + "" + formatDate(date.getMonth() + 1) + "" + formatDate(date.getDate()) + "" + formatDate(date.getHours()) + "" + formatDate(date.getMinutes()) + "" + formatDate(date.getSeconds());
				currentDate = currentDate.split("");
				console.log(currentDate);
				for (var i = 0; i < images.length; i++) {
					images[i].src = "images/" + currentDate[i] + ".png";
				}
			}
			changeImg(img);
		}
	})()
</script>
</html>

















